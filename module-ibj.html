<!DOCTYPE html>
<html lang="en">

<head>
  <meta charset="utf-8">
  <meta content="width=device-width, initial-scale=1.0" name="viewport">

  <title>Module IBJ</title>
  <meta content="" name="description">
  <meta content="" name="keywords">

  <!-- Favicons -->
  <link href="assets/img/favicon.png" rel="icon">
  <link href="assets/img/apple-touch-icon.png" rel="apple-touch-icon">

  <!-- Google Fonts -->
  <link href="https://fonts.googleapis.com/css?family=Open+Sans:300,300i,400,400i,600,600i,700,700i|Raleway:300,300i,400,400i,500,500i,600,600i,700,700i|Poppins:300,300i,400,400i,500,500i,600,600i,700,700i" rel="stylesheet">

  <!-- Vendor CSS Files -->
  <link href="assets/vendor/aos/aos.css" rel="stylesheet">
  <link href="assets/vendor/bootstrap/css/bootstrap.min.css" rel="stylesheet">
  <link href="assets/vendor/bootstrap-icons/bootstrap-icons.css" rel="stylesheet">
  <link href="assets/vendor/boxicons/css/boxicons.min.css" rel="stylesheet">
  <link href="assets/vendor/glightbox/css/glightbox.min.css" rel="stylesheet">
  <link href="assets/vendor/swiper/swiper-bundle.min.css" rel="stylesheet">

  <!-- Template Main CSS File -->
  <link href="assets/css/style-2.css" rel="stylesheet">
  
  <style type="text/css">
    .music-player {
      position: fixed;
      bottom: 15px;
      right: 17px;
      width: 40px;
      height: 40px;
      border-radius: 50%;
      background-color: #657B71;
      display: flex;
      align-items: center;
      justify-content: center;
      cursor: pointer;
    }

    .play-button {
      width: 20px;
      height: 20px;
      background-color: white;
      border-radius: 50%;
      display: flex;
      align-items: center;
      justify-content: center;
      transition: all 0.3s ease-in-out;
    }

    .play-button i {
      font-size: 20px;
      color: #657B71;
    }

    .music-player.playing .play-button {
      width: 25px;
      height: 25px;
      transform: rotate(360deg);
    }

    .music-player.playing .play-button i {
      color: #96FF00;
    }

    .music-player.playing {
      background-color: #96FF00;
    }
  </style>

  <script>
    function copyToClipboard(elem) {
      var copyText = elem.parentElement.querySelector('code').textContent;
      var tempInput = document.createElement("textarea");
      tempInput.value = copyText;
      document.body.appendChild(tempInput);
      tempInput.select();
      document.execCommand("copy");
      document.body.removeChild(tempInput);
      elem.innerHTML = '<i class="bx bx-check"></i>Tersalin!';
      setTimeout(function() {
        elem.innerHTML = '<i class="bx bx-copy code-copy"></i>Salin';
      }, 2000);
    }

    const codeContainers = document.querySelectorAll('.code-container');
    codeContainers.forEach((container) => {
      const lang = container.querySelector('.code-lang').textContent.trim();
      container.querySelector('code').classList.add(`language-${lang.toLowerCase()}`);
    });

    Prism.highlightAll();
  </script>

  <!-- =======================================================
  * Template Name: iPortfolio
  * Updated: Mar 10 2023 with Bootstrap v5.2.3
  * Template URL: https://bootstrapmade.com/iportfolio-bootstrap-portfolio-websites-template/
  * Author: BootstrapMade.com
  * License: https://bootstrapmade.com/license/
  ======================================================== -->
</head>

<body>

  <!-- ======= Mobile nav toggle button ======= -->
  <i class="bi bi-list mobile-nav-toggle d-xl-none"></i>

  <!-- ======= Header ======= -->
  <header id="header">
    <div class="d-flex flex-column">

      <div class="profile">
        <img src="assets/img/logo_itb.png" alt="" class="img-fluid rounded-circle">
        <h1 class="text-light"><a href="index.html"><center>Instrumentasi Berbasis Jaringan</center></a></h1>
        <div class="social-links mt-3 text-center">
          <a href="" class="whatsapp"><i class="bx bxl-whatsapp"></i></a>
          <a href="https://www.instagram.com/physicsitb" class="instagram"><i class="bx bxl-instagram"></i></a>
          <a href="https://mail.google.com/mail/?view=cm&fs=1&to=maman@fi.itb.ac.id" class="gmail"><i class="bx bxl-gmail"></i></a>
          <a href="https://github.com/yogiazy" class="github"><i class="bx bxl-github"></i></a>
       
          <div class="music-player">
            <div class="play-button">
              <i class="bx bx-caret-right"></i>
            </div>
            <audio id="my-audio">
              <source src="https://cdn.pixabay.com/download/audio/2022/08/17/audio_eb3864cceb.mp3?filename=the-weekend-117427.mp3" type="audio/mpeg">
              </audio>
            </div>
          
        </div>
      </div>

      <nav id="navbar" class="nav-menu navbar">
        <ul>
          <li><a href="#hero" class="nav-link scrollto active"><i class="bx bx-home"></i> <span>Home</span></a></li>
          <li><a href="#arduino" class="nav-link scrollto"><i class="bx bx-infinite"></i> <span>Arduino</span></a></li>
          <li><a href="#raspberry" class="nav-link scrollto"><i class="bx bx-code-alt"></i> <span>Raspberrypi</span></a></li>
          <li><a href="#influxdb" class="nav-link scrollto"><i class="bx bx-category-alt"></i> <span>InfluxDB</span></a></li>
          <li><a href="#node-red" class="nav-link scrollto"><i class="bx bx-vector"></i> <span>Node-red</span></a></li>
          <li><a href="#latihan" class="nav-link scrollto"><i class="bx bx-layer-minus"></i> <span>Latihan</span></a></li>
          <li><a href="#uts" class="nav-link scrollto"><i class="bx bx-outline"></i> <span>About UTS</span></a></li>
          <li><a href="#uts" class="nav-link scrollto"> <span></span></a></li>
          <li><a href="#uts" class="nav-link scrollto"> <span></span></a></li>
        </ul>
      </nav><!-- .nav-menu -->
    </div>
  </header><!-- End Header -->

  <!-- ======= Hero Section ======= -->
  <section id="hero" class="d-flex flex-column justify-content-center align-items-center">
    <div class="hero-container" data-aos="fade-in">
      <h1>Hey, FI-3271</h1>
      <p>~ Modul <span class="typed" data-typed-items="Arduino, Raspberry Pi, InfluxDB, Node-red"></span></p>
    </div>
  </section><!-- End Hero -->

  <main id="main">

    <!-- Star Arduino Section -->
    <section id="arduino" class="about">
      <div class="container">

        <div class="section-title">
          <h2>Arduino IDE</h2>
          <p>Melalui Arduino IDE kita dapat membuat, memprogram dan mengupload kode ke board mikrokontroller (Board arduino, ESP8266, ESP32 dll). Perlu diketahui ya, bahasa pemrograman yang digunakan disini berbasis <b>C/C++</b>. Namun tidak perlu khawatir, arduino menyediakan open source library yang memudahkan pemula untuk menggunakannya.</p>
        </div>

        <div class="row">
          <div class="col-lg-3" data-aos="fade-right">
            <img src="https://www.arduino.cc/wiki/370832ed4114dd35d498f2f449b4781e/arduino.svg" class="img-fluid" alt="logo-arduino">            
          </div>
          <div class="col-lg-8" data-aos="fade-left">
            <h3>Mau tau cara installnya?</h3>
            <p>Caranya cukup mudah, yaitu download filenya lalu install, selesai.</p>
            <div>
                <ul>
                <p><i class="bi bi-chevron-right"></i><b>Kunjungi website resminya:</b> <a href="https://www.arduino.cc/en/software">https://www.arduino.cc/en/software</a></p>
                <p class="note-padding">Download versi Arduino IDE sesuai yang kamu bisa, boleh <a href="https://downloads.arduino.cc/arduino-1.8.19-windows.exe">Versi 1.18.19</a> atau <a href="https://downloads.arduino.cc/arduino-ide/arduino-ide_2.0.4_Windows_64bit.exe">Versi 2.0.4</a> tapi rekomendasi gunakan versi 1 karena untuk saat ini lebih stabil. Tapi kalau kamu suka yang lebih advanced, it's okay pilih yang Versi 2 karena buat kedepannya prospeknya lebih sering digunakan. Lalu install.</p>
                </ul>
                <ul>
                <p><i class="bi bi-chevron-right"></i><b>Done, Arduino IDE berhasil terinstall.</b> Salam luar biasa!</p>
                </ul>
            </div>
          </div>          
        </div>
        <p></p>

        <div class="row">
          <div data-aos="fade-right">
            <h3>Setting board dan library</h3>
            <p>Untuk keperluan kuliah FI-3271, diperlukan setting preferences dan download beberapa library.</p>
            
            <div>
              <ul>
                <p><i class="bi bi-chevron-right"></i><b>Setting preferences</b></p>
                <p class="note-padding">Buka arduino, pilih <b>File &rarr; Preferences</b>. Lalu pada bagian <b>Additional Boards Manager URLs</b> pastekan kode berikut.</p>
                
                <div class="code-padding">
                  <div class="code-body">
                    <div class="code-lang">Untuk ESP-8266 Board</div>
                    <button class="code-copy" onclick="copyToClipboard(this)"> <i class="bx bx-copy code-copy"></i>Salin</button>
                    <pre>
                      <code class="language-json">
http://arduino.esp8266.com/stable/package_esp8266com_index.json
                      </code>
                    </pre>                    
                  </div>
                </div>

                <p></p>

                <div class="code-padding">
                  <div class="code-body">
                    <div class="code-lang">Untuk ESP-32 Board</div>
                    <button class="code-copy" onclick="copyToClipboard(this)"> <i class="bx bx-copy code-copy"></i>Salin</button>
                    <pre>
                      <code class="language-json">
https://raw.githubusercontent.com/espressif/arduino-esp32/gh-pages/package_esp32_index.json
https://dl.espressif.com/dl/package_esp32_index.json
                      </code>
                    </pre>                    
                  </div>
                </div>
              </ul>

              <ul>
                <p><i class="bi bi-chevron-right"></i><b>Atur boards manager</b></p>
                <p class="note-padding">Pada menu arduino, pilih <b>Tools &rarr; Board &rarr; Boards manager</b>. Masukkan keyword "esp8266", lalu install board ESP8266 kemudian masukkan keyword "esp32" dan install board ESP32.</p>
              </ul>

              <ul>
                <p><i class="bi bi-chevron-right"></i><b>Download library</b></p>
                <p class="note-padding">Pada menu arduino, pilih <b>Tools &rarr; Manage libraries</b>. Kemudian cari dan install library yang diperlukan. Berikut adalah list library yang diperlukan untuk kuliah FI-3271.</p>
                <ul>
                  <p><i class="bi bi-caret-right-fill"></i> <b>PubSubClient</b> &rarr; Client library untuk komunikasi MQTT, dengan skema publish dan subscribe.</p>
                  <p><i class="bi bi-caret-right-fill"></i> <b>DFRobot_DHT11</b> &rarr; Digunakan untuk membaca data Temperature dan Humidity dari sensor DHT11.</p>
                  <p><i class="bi bi-caret-right-fill"></i> <b>MovingAverage</b> &rarr; Library yang digunakan untuk memfilter data dengan mengambil rata-rata dari nilai-nilai data yang terakhir.</p>
                </ul>
                <p class="note-padding">Library yang disebutkan di atas hanya contoh saja, pada problem yang mau diselesaikan cari library yang sesuai dengan board, mikrokontroller, dan sensor-sensor yang kamu gunakan. Untuk membuka contoh kode dari library, pilih <b>File &rarr; Example</b>, kemudian cari contoh kode yang diinginkan. Nah, untuk lebih jelasnya lihat contoh kode basic membaca sensor DHT11 berikut!</p>

                <div class="code-padding">
                  <div class="code-body">
                    <div class="code-lang">Read DHT11</div>
                    <button class="code-copy" onclick="copyToClipboard(this)"> <i class="bx bx-copy code-copy"></i>Salin</button>
                    <pre>
                      <code class="language-arduino">
#include &lt;DFRobot_DHT11.h&gt;          // include atau import library DFRobot_DHT11.h
DFRobot_DHT11 DHT;                  // deklarasi objek DHT dari class DFRobot_DHT11
#define DHT11_PIN 10                // mendefinisikan pin 10 sebagai pin yang terhubung dengan sensor DHT11

void setup(){
  Serial.begin(115200);             // memulai komunikasi Serial dengan baud rate 115200
}

void loop(){
  DHT.read(DHT11_PIN);              // membaca data suhu dan kelembaban dari sensor DHT11 pada pin 10
  Serial.print("temp:");            // menampilkan tulisan "temp:" pada Serial Monitor
  Serial.print(DHT.temperature);    // menampilkan nilai suhu pada Serial Monitor
  Serial.print("  humi:");          // menampilkan tulisan "humi:" pada Serial Monitor
  Serial.println(DHT.humidity);     // menampilkan nilai kelembaban pada Serial Monitor, diikuti dengan enter
  delay(1000);                      // menunda eksekusi program selama 1 detik
}
                      </code>
                    </pre>                    
                  </div>
                </div>

              </ul>
            </div>
          
          </div>          
        </div>
      </div>
    </section>
    <!-- End About Section -->

    <!-- Star Raspberry Section -->
    <section id="raspberry" class="skills section-bg">
      <div class="container">

        <div class="section-title">
          <h2>Raspberry Pi</h2>
          <p>Dengan Raspberry Pi kita dapat membangun server jaringan, membuat robot, membangun kamera pemantau, atau bahkan membangun server web. Jadi bisa dikatakan Raspberry Pi sebagai komputer mini. Raspberry Pi juga bisa dihubungkan dengan berbagai jenis sensor atau modul, sehingga memungkinkan kamu untuk membuat proyek-proyek yang lebih kompleks dan interaktif.</p>
        </div>

        <div class="row">
          <div data-aos="fade-left">
            <h3><i class="bi bi-chevron-right"></i> Install Raspberry Pi OS ke SD Card</h3>
            <p>Untuk menggunakan Raspberry diperlukan SD Card yang sudah ditanam Operating System (OS) Raspberry Pi, caranya ikuti dibawah ini ya.</p>
            <div>
              <ul>
                <li><p> Download & install Raspberry Pi Imager: <a href="https://www.raspberrypi.com/software/">https://www.raspberrypi.com/software/</a></p></li>
                <li><p> Buka aplikasi Raspberry Pi Imager & masukkan SD Card (Pakai SD Card Reader) ke laptop.</p></li>
                <li><p> Pilih versi Raspberry Pi OS yang ingin kamu install dan pastikan SD Card telah terdeteksi. Saran, untuk keperluan kuliah FI-3271 gunakan Raspberry Pi OS 64 bit No Dekstop Environment agar beban RAM Raspberry menjadi lebih ringan.</p></li>
                <img src="assets/img/raspi/1.jpg" class="note-padding" style="width: 60%; height: auto; padding-bottom: 1em;" alt="">
                <li><p> Atur konfigurasi dengan klik tombol pengaturan.</p></li>
                <img src="assets/img/raspi/2.png" class="note-padding" style="width: 60%; height: auto; padding-bottom: 1em;" alt="">
                <li><p> Sesuaikan konfigurasi seperti pada gambar di bawah, atur username & password dan atur juga SSID hotspot yang akan digunakan. jangan lupa klik <b>Save</b>.</p></li>
                <img src="assets/img/raspi/3.jpg" class="note-padding" style="width: 60%; height: auto%; padding-bottom: 1em;" alt="">
                <li><p> Mulai proses instalasi dengan mengklik tombol "Write" dan tunggu hingga selesai.</p></li>
                <li><p> Setelah selesai, keluarkan SD Card dan masukkan ke Raspberry Pi. Yeay! Raspberry siap digunakan.</p></li>
              </ul>
            </div>
          </div>          
        </div>
        <div class="section-title"></div>

        <div class="row">
          <div data-aos="fade-left">
            <h3><i class="bi bi-chevron-right"></i> Akses Raspberry Pi via SSH</h3>
            <p>Dengan menggunakan SSH, kamu dapat mengendalikan komputer (dalam hal ini raspberry pi) yang terletak di tempat yang berbeda dengan cara mengirimkan perintah melalui koneksi internet secara aman dan terenkripsi.</p>
            <div>
              <ul>
                <li><p> Pastikan Raspberry terhubung dengan power supply</p></li>
                <li><p> Buka Command Prompt (CMD) dan pastikan laptop maupun Raspberry terhubung dalam satu jaringan internet yang sama.</p></li>
                <li><p> Untuk akses via SSH dapat dilakukan dengan perintah "<b>ssh &lt;username&gt;@&lt;hostname/ip&gt;</b>".</p></li>

                <div class="code-padding-2">
                  <div class="code-body">
                    <div class="code-lang">Contoh perintah untuk akses via SSH di CMD</div>
                    <button class="code-copy" onclick="copyToClipboard(this)"> <i class="bx bx-copy code-copy"></i>Salin</button>
                    <pre>
                      <code class="language-arduino">
ssh pi@192.168.8.18
                      </code>
                    </pre>                    
                  </div>
                </div>

                <p></p>

                <li><p> Ada banyak cara untuk mengetahui IP dari suatu Raspberry. Salah satunya dengan menggunakan aplikasi Advanced IP Scanner. Silahkan download aplikasinya dengan link ini <a href="https://download.radmin.com/download/files/Radmin_3.5.2.1_EN.zip">https://download.radmin.com/download/files/Radmin_3.5.2.1_EN.zip</a>. lalu install, dan buka aplikasinya.</p></li>
                <img src="assets/img/raspi/4.jpg" class="note-padding" style="width: 60%; height: auto; padding-bottom: 1em;" alt="">
                <li><p> Gambar diatas adalah tampilan awal aplikasi Advanced IP Scanner, ganti IP yang ditunjukan pada gambar dengan IP laptop kamu. Cara untuk mengetahui IP laptop, yaitu dengan ketikkan "ipconfig" di CMD.</p></li>
                <img src="assets/img/raspi/5.jpg" class="note-padding" style="width: 60%; height: auto; padding-bottom: 1em;" alt="">
                <li><p> Copy dan pastekan IP tersebut ke Advanced IP Scanner. Ganti range IP-nya menjadi 1-255, misal IP laptop kamu "192.168.8.18" maka yang kamu ubah menjadi "192.168.8.1-255". Sehingga range IP yang terbaca di Advanced IP Scanner mulai dari 192.168.8.1 sampai 192.168.8.255</p></li>
                <li><p> Setelah itu, copy IP Raspberry yang terscan di IP Scanner tadi dan ketikkan "<b>ssh &lt;username&gt;@&lt;hostname/ip&gt;</b>" di CMD. Lalu kamu akan diminta key Authentication, ketik saja "y" dan tekan enter. Kemudian masukkan password Raspberry kamu, dan selamat kamu berhasil akses Raspberry via SSH.</p></li>
                <li><p> Ketika pertama kali akses Raspberry, perlu dilakukan update dan upgrade pada Raspberry. Ketikkan perintah berikut untuk update dan upgrade Raspberry.</p></li>

                <div class="code-padding-2">
                  <div class="code-body">
                    <div class="code-lang">Update dan Upgrade Raspberry</div>
                    <button class="code-copy" onclick="copyToClipboard(this)"> <i class="bx bx-copy code-copy"></i>Salin</button>
                    <pre>
                      <code class="language-arduino">
sudo apt-get update
sudo apt-get upgrade
                      </code>
                    </pre>                    
                  </div>
                </div>

              </ul>
            </div>
          </div>          
        </div>

      </div>
    </section>
    <!-- End About Section -->


    <!-- Star InfluxDB Section -->
    <section id="influxdb" class="about">
      <div class="container">

        <div class="section-title" data-aos="fade-right">
          <h2>InfluxDB</h2>
          <p>Secara umum, InfluxDB merupakan sebuah database open source yang dikhususkan untuk menangani data time series, yang mana data tersebut diurutkan berdasarkan urutan waktu tertentu. Sehingga dengan InfluxDB kita dapat menyimpan data-data sensor dari Mikrokontroller (ESP-8266, ESP-32, dll) melalui server.</p>
          <img src="https://www.influxdata.com/wp-content/uploads/animated.gif" style="width: auto; height: auto; padding-bottom: 1em; padding-top: 1em;" class="img-fluid" alt="">
        </div>

        <div class="row">
          <div data-aos="fade-left">
            <h3><i class="bi bi-chevron-right"></i> Install InfluxDB v1.8 ke Raspberry Pi</h3>
            <p>Untuk keperluan kuliah FI-3271, InfluxDB akan diinstall di Raspberry Pi dan berjalan secara service (autorun ketika booting) di Raspberry Pi. Untuk proses instalasinya, ikuti cara dibawah ini atau untuk lebih advanced-nya bisa langsung kunjungi di website resminya, yaitu <a href="https://docs.influxdata.com/influxdb/v1.8/introduction/install/">https://docs.influxdata.com/influxdb/v1.8/introduction/install/</a>.</p>
            <div>
              <ul>
                <li><p> Pertama, pastikan Raspberry Pi nyala dan terhubung dengan jaringan internet yang sama dengan laptop.</p></li>
                <li><p> Lalu, akses Raspberry Pi via SSH seperti cara sebelumnya.</p></li>
                <li><p> Kemudian, update dan upgrade Raspberry Pi dengan perintah berikut.</p></li>

                <div class="code-padding-2">
                  <div class="code-body">
                    <div class="code-lang">Update dan Upgrade Raspberry</div>
                    <button class="code-copy" onclick="copyToClipboard(this)"> <i class="bx bx-copy code-copy"></i>Salin</button>
                    <pre>
                      <code class="language-sql">
sudo apt-get update && sudo apt-get upgrade
                      </code>
                    </pre>                    
                  </div>
                </div>
                <p></p>

                <li><p> Lalu tambahkan repositori InfluxData dengan perintah berikut.</p></li>

                <div class="code-padding-2">
                  <div class="code-body">
                    <div class="code-lang">Add repository</div>
                    <button class="code-copy" onclick="copyToClipboard(this)"> <i class="bx bx-copy code-copy"></i>Salin</button>
                    <pre>
                      <code class="language-sql">
# influxdata-archive_compat.key GPG Fingerprint: 9D539D90D3328DC7D6C8D3B9D8FF8E1F7DF8B07E
wget -q https://repos.influxdata.com/influxdata-archive_compat.key
echo '393e8779c89ac8d958f81f942f9ad7fb82a25e133faddaf92e15b16e6ac9ce4c influxdata-archive_compat.key' | sha256sum -c && cat influxdata-archive_compat.key | gpg --dearmor | sudo tee /etc/apt/trusted.gpg.d/influxdata-archive_compat.gpg > /dev/null
echo 'deb [signed-by=/etc/apt/trusted.gpg.d/influxdata-archive_compat.gpg] https://repos.influxdata.com/debian stable main' | sudo tee /etc/apt/sources.list.d/influxdata.list
                      </code>
                    </pre>                    
                  </div>
                </div>
                <p></p>

                <li><p> Kemudian install InfluxDB dengan perintah berikut.</p></li>                

                <div class="code-padding-2">
                  <div class="code-body">
                    <div class="code-lang">Update dan install InfluxDB</div>
                    <button class="code-copy" onclick="copyToClipboard(this)"> <i class="bx bx-copy code-copy"></i>Salin</button>
                    <pre>
                      <code class="language-sql">
sudo apt-get update && sudo apt-get install influxdb
                      </code>
                    </pre>                    
                  </div>
                </div>
                <p></p>

                <li><p> Unmask atau aktifkan layanan InfluxDb dengan perintah berikut.</p></li>

                <div class="code-padding-2">
                  <div class="code-body">
                    <div class="code-lang">Unmask InfluxDB</div>
                    <button class="code-copy" onclick="copyToClipboard(this)"> <i class="bx bx-copy code-copy"></i>Salin</button>
                    <pre>
                      <code class="language-sql">
sudo systemctl unmask influxdb.service
                      </code>
                    </pre>                    
                  </div>
                </div>
                <p></p>

                <li><p> Mulai layanan InfluxDB dengan perintah berikut.</p></li>

                <div class="code-padding-2">
                  <div class="code-body">
                    <div class="code-lang">Start InfluxDB</div>
                    <button class="code-copy" onclick="copyToClipboard(this)"> <i class="bx bx-copy code-copy"></i>Salin</button>
                    <pre>
                      <code class="language-sql">
sudo systemctl start influxdb
                      </code>
                    </pre>                    
                  </div>
                </div>
                <p></p>

              </ul>
            </div>
          </div>          
        </div>
        <p></p>

        <div class="row">
          <div data-aos="fade-left">
            <h3><i class="bi bi-chevron-right"></i> Akses CommandLine (CLI) InfluxDB</h3>
            <p>Agar bisa digunakan, perlu membuat user dan database di InfluxDB via CLI InlfuxDB. Untuk prosesnya bisa ikuti cara dibawah ini atau untuk lebih advanced-nya bisa langsung kunjungi di website resminya, yaitu <a href="https://docs.influxdata.com/influxdb/v1.8/introduction/get-started/">https://docs.influxdata.com/influxdb/v1.8/introduction/get-started/</a>.</p>
            <div>
              <ul>
                <li><p> Langkah awal untuk masuk ke CommandLine (CLI) InfluxDB adalah dengan ketik "influx" di terminal Raspberry Pi. Maka akan muncul teks berikut yang menunjukkan bahwa kamu sudah masuk ke akses CLI InfluxDB.</p></li>
                <img src="assets/img/raspi/6.jpg" class="note-padding" style="width: 80%; height: auto; padding-bottom: 1em;" alt="">
                <li><p> Lalu, buat user untuk InfluxDB dengan perintah berikut.</p></li>

                <div class="code-padding-2">
                  <div class="code-body">
                    <div class="code-lang">Membuat user</div>
                    <button class="code-copy" onclick="copyToClipboard(this)"> <i class="bx bx-copy code-copy"></i>Salin</button>
                    <pre>
                      <code class="language-sql">
CREATE USER &lt;user&gt; WITH PASSWORD '&lt;password&gt;' WITH ALL PRIVILEGES
                      </code>
                    </pre>                    
                  </div>
                </div>
                <p></p>

                <div class="code-padding-2">
                  <div class="code-body">
                    <div class="code-lang">Contoh</div>
                    <button class="code-copy" onclick="copyToClipboard(this)"> <i class="bx bx-copy code-copy"></i>Salin</button>
                    <pre>
                      <code class="language-sql">
CREATE USER labelka WITH PASSWORD 'labelka123' WITH ALL PRIVILEGES
                      </code>
                    </pre>                    
                  </div>
                </div>
                <p></p> 

                <li><p> Kemudian, membuat database dengan perintah berikut.</p></li>

                <div class="code-padding-2">
                  <div class="code-body">
                    <div class="code-lang">Membuat database</div>
                    <button class="code-copy" onclick="copyToClipboard(this)"> <i class="bx bx-copy code-copy"></i>Salin</button>
                    <pre>
                      <code class="language-sql">
CREATE DATABASE &lt;namadatabase&gt;
                      </code>
                    </pre>                    
                  </div>
                </div>
                <p></p>

                <div class="code-padding-2">
                  <div class="code-body">
                    <div class="code-lang">Contoh</div>
                    <button class="code-copy" onclick="copyToClipboard(this)"> <i class="bx bx-copy code-copy"></i>Salin</button>
                    <pre>
                      <code class="language-sql">
CREATE DATABASE sensor;
                      </code>
                    </pre>                    
                  </div>
                </div>
                <p></p>    

                <li><p> Beberapa contoh query yang sering digunakan</p></li>

                <div class="code-padding-2">
                  <div class="code-body">
                    <div class="code-lang">Query</div>
                    <button class="code-copy" onclick="copyToClipboard(this)"> <i class="bx bx-copy code-copy"></i>Salin</button>
                    <pre>
                      <code class="language-sql">
#menampilkan user
SHOW USERS

#menampilkan database
SHOW DATABASES

#menggunakan database
USE &lt;namadatabase&gt;

#menampilkan tabel sesuai database yang digunakan
SHOW MEASUREMENTS

#menampilkan semua data pada suatu tabel (measurement)
SELECT * FROM &lt;namatabel&gt;
                      </code>
                    </pre>                    
                  </div>
                </div>
                <p></p>             

              </ul>
            </div>
          </div>          
        </div>        

      </div>
    </section>
    <!-- End About Section -->

    <!-- Star Node-red Section -->
    <section id="node-red" class="skills section-bg">
      <div class="container">

        <div class="section-title" data-aos="fade-right">
          <h2>Node-RED</h2>
          <p>Node-RED adalah sebuah platform visual programming yang digunakan untuk menghubungkan dan mengotomatisasi berbagai macam perangkat dan layanan internet, seperti sensor, database, API, dan perangkat IoT (Internet of Things) lainnya. Node-RED memiliki tampilan antarmuka berbasis web yang memungkinkan kamu untuk membuat alur kerja (flow) secara visual menggunakan blok-blok grafis yang disebut "node".</p>
          <img src="https://user-images.githubusercontent.com/44235289/86542006-aad63f80-bf09-11ea-865b-c21a9fa3b9c4.gif" style="width: auto; height: auto; padding-bottom: 1em; padding-top: 1em;" class="img-fluid" alt="">
        </div>

        <div class="row">
          <div data-aos="fade-left">
            <h3><i class="bi bi-chevron-right"></i> Install Node-RED di Raspberry Pi</h3>
            <p>Untuk keperluan kuliah FI-3271, Node-RED akan diinstall Raspberry dan berjalan untuk menghubungkan dan mengontrol berbagai macam perangkat dan layanan internet yang terhubung dengan Raspberry Pi, seperti sensor, kamera, layanan web, dan sebagainya. Untuk prosesnya bisa ikuti cara dibawah ini atau untuk lebih advanced-nya bisa langsung kunjungi di website resminya, yaitu <a href="https://nodered.org/docs/getting-started/raspberrypi">https://nodered.org/docs/getting-started/raspberrypi</a>.</p>
            <div>
              <ul>
                <li><p> Pertama, jangan lupa untuk update dan upgrade Raspberry Pi.</p></li>

                <div class="code-padding-2">
                  <div class="code-body">
                    <div class="code-lang">Update dan upgrade Raspberry Pi</div>
                    <button class="code-copy" onclick="copyToClipboard(this)"> <i class="bx bx-copy code-copy"></i>Salin</button>
                    <pre>
                      <code class="language-sql">
sudo apt-get update && sudo apt-get upgrade
                      </code>
                    </pre>                    
                  </div>
                </div>
                <p></p>  

                <li><p> Kemudian, install Node-RED dengan perintah berikut.</p></li>

                <div class="code-padding-2">
                  <div class="code-body">
                    <div class="code-lang">Install Node-RED</div>
                    <button class="code-copy" onclick="copyToClipboard(this)"> <i class="bx bx-copy code-copy"></i>Salin</button>
                    <pre>
                      <code class="language-sql">
bash <(curl -sL https://raw.githubusercontent.com/node-red/linux-installers/master/deb/update-nodejs-and-nodered)
                      </code>
                    </pre>                    
                  </div>
                </div>
                <p></p>   

                <li><p> Enable Node-RED running sebagai service di Raspberry Pi.</p></li>

                <div class="code-padding-2">
                  <div class="code-body">
                    <div class="code-lang">Enable Node-RED</div>
                    <button class="code-copy" onclick="copyToClipboard(this)"> <i class="bx bx-copy code-copy"></i>Salin</button>
                    <pre>
                      <code class="language-sql">
sudo systemctl enable nodered.service
                      </code>
                    </pre>                    
                  </div>
                </div>
                <p></p>   

                <li><p> Mulai layanan Node-RED berjalan di Raspberry</p></li>

                <div class="code-padding-2">
                  <div class="code-body">
                    <div class="code-lang">Mulai Node-RED</div>
                    <button class="code-copy" onclick="copyToClipboard(this)"> <i class="bx bx-copy code-copy"></i>Salin</button>
                    <pre>
                      <code class="language-sql">
sudo systemctl start nodered.service
                      </code>
                    </pre>                    
                  </div>
                </div>
                <p></p>     

              </ul>
            </div>
          </div>          
        </div>
        <p></p>

        <div class="row">
          <div data-aos="fade-left">
            <h3><i class="bi bi-chevron-right"></i> Running Node-RED</h3>
            <p>Ketika service Node-RED sudah berjalan, maka dapat digunakan browser untuk mengakses Node-RED.</a></p>
            <div>
              <ul>
                <li><p> Secara umum Node-RED dapat diakses dengan link "http://&lt;hostname/ip&gt;:1880".</p></li>

                <div class="code-padding-2">
                  <div class="code-body">
                    <div class="code-lang">Akses Node-RED di Port 1880</div>
                    <button class="code-copy" onclick="copyToClipboard(this)"> <i class="bx bx-copy code-copy"></i>Salin</button>
                    <pre>
                      <code class="language-sql">
http://&lt;hostname/ip&gt;:1880
                      </code>
                    </pre>                    
                  </div>
                </div>
                <p></p>    

                <li><p> Untuk kuliah FI-3271 ada beberapa Palette (library) yang digunakan, berikut adalah cara installnya. Pilih <b>Menu &rarr; Manage palette</b>. Kemudian cari palette yang mau diinstall.</p></li>
                <img src="assets/img/raspi/7.png" class="note-padding" style="width: 60%; height: auto; padding-bottom: 1em;" alt="">
                <li><p> Kemudian cari palette yang mau diinstall.</p></li>
                <img src="assets/img/raspi/8.jpg" class="note-padding" style="width: 60%; height: auto; padding-bottom: 1em;" alt="">
                <li><p> List palette (library) yang sering digunakan.</p></li>

                <div class="code-padding-2">
                  <div class="code-body">
                    <div class="code-lang">List palette</div>
                    <button class="code-copy" onclick="copyToClipboard(this)"> <i class="bx bx-copy code-copy"></i>Salin</button>
                    <pre>
                      <code class="language-sql">
1. node-red-contrib-influxdb          #untuk akses influxdb
2. dashboard-evi                      #untuk ui dashboard
3. node-red-contrib-pid-controller    #untuk controll pid
                      </code>
                    </pre>                    
                  </div>
                </div>
                <p></p> 

              </ul>
            </div>
          </div>          
        </div>

      </div>
    </section>
    <!-- End About Section -->

    <!-- Star UTS Section --> 
    <section id="latihan" class="about">
      <div class="container">

        <div class="section-title" data-aos="fade-right">
          <h2>Latihan</h2>
          <p>Pada pertemuan yang sudah dilalui, diberikan latihan terkait bagaimana caranya kontrol ON-OFF relay menggunakan dua mikrokontroller yang satu mengirim data sensor ke Node-RED dan yang satunya lagi menerima data sensor dari Node-RED. Lalu berdasarkan nilai data sensor yang diterima menjadi parameter suatu relay ON atau OFF. Berikut adalah gambar skema rangkaian tersebut.</p>
          <img src="assets/img/raspi/9.jpg" style="width: auto;%; height: auto; padding-bottom: 1em; padding-top: 1em;" class="img-fluid" alt="">
        </div>

        <div class="row">
          <div data-aos="fade-left">
            <h3><i class="bi bi-chevron-right"></i> Rangkaian Sender (Pengirim data sensor)</h3>
            <p>Pada rangkaian Sender, pada gambar ditunjukkan oleh ESP-8266 sebelah kiri yang terhubung dengan potensiometer.</p>
            <div>
              <ul>
                <li><p> Susunan rangkaian sender adalah sebagai berikut.</p></li>

                <div class="code-padding-2">
                  <div class="code-body">
                    <div class="code-lang">Rangkaian</div>
                    <button class="code-copy" onclick="copyToClipboard(this)"> <i class="bx bx-copy code-copy"></i>Salin</button>
                    <pre>
                      <code class="language-python">
3V3-ESP8266 terhubung dengan VCC-Potensiometer
GND-ESP8266 terhubung dengan GND-Potensiometer
A0-ESP8266 terhubung dengan OUTPUT-Potensiometer
                      </code>
                    </pre>                    
                  </div>
                </div>
                <p></p>  

                <li><p> Kode Arduino untuk mengirim data sensor (Potensiometer).</p></li> 

                <div class="code-padding-2">
                  <div class="code-body">
                    <div class="code-lang">Sender</div>
                    <button class="code-copy" onclick="copyToClipboard(this)"> <i class="bx bx-copy code-copy"></i>Salin</button>
                    <pre>
                      <code class="language-arduino">
#include &lt;ESP8266WiFi.h&gt;                        
#include &lt;PubSubClient.h&gt;                         
#include "MovingAverage.h"                              

const char* ssid = "labelka";                         
const char* password = "labelka123";                  
const char* mqtt_server = "test.mosquitto.org";         //set broker mqtt pada mosquitto

WiFiClient espClient;                                   
PubSubClient client(espClient);                         
MovingAverage &lt;uint16_t, 5&gt; filter;                     //membuat objek moving average dengan 5 data

#define MSG_BUFFER_SIZE  (50)
#define POT A0                                          //mendefinisikan pin A0 sebagai pin Potensiometer

unsigned long lastMsg = 0;
char msg[MSG_BUFFER_SIZE];
int value = 0;

void setup_wifi() {                                     //melakukan koneksi ke wifi

  delay(10);
  Serial.println();
  Serial.print("Connecting to ");
  Serial.println(ssid);

  WiFi.mode(WIFI_STA);
  WiFi.begin(ssid, password);

  while (WiFi.status() != WL_CONNECTED) {
    delay(500);
    Serial.print(".");

  }

  randomSeed(micros());

  Serial.println("");
  Serial.println("WiFi connected");
  Serial.println("IP address: ");
  Serial.println(WiFi.localIP());
}

void callback(char* topic, byte* payload, unsigned int length) {  
  Serial.print("Message arrived [");                                //menampilkan pesan yang diterima
  Serial.print(topic);
  Serial.print("] ");
  for (int i = 0; i < length; i++) {
    Serial.print((char)payload[i]);
  }
  Serial.println();

  if ((char)payload[0] == '1') {
    digitalWrite(BUILTIN_LED, LOW);

  } else {
    digitalWrite(BUILTIN_LED, HIGH);
  }
}

void reconnect() {
  while (!client.connected()) {
    Serial.print("Attempting MQTT connection...");
    String clientId = "ESP8266Client-";
    clientId += String(random(0xffff), HEX);

    if (client.connect(clientId.c_str())) {
      Serial.println("connected");
      client.publish("nodered-elka", "Dah tersambung nih...");    //mengirim pesan "terkoneksi" dengan topik "nodered-elka"
      client.subscribe("sender-elka");                            //subscribe ke topik "sender-elka"
    } else {
      Serial.print("failed, rc=");
      Serial.print(client.state());
      Serial.println(" try again in 5 seconds");
      delay(5000);
    }
  }
}

void setup() {
  pinMode(BUILTIN_LED, OUTPUT);
  pinMode(POT, INPUT);
  Serial.begin(115200);
  setup_wifi();
  client.setServer(mqtt_server, 1883);
  client.setCallback(callback);
}

void loop() {

  if (!client.connected()) {
    reconnect();
  }
  client.loop();

  unsigned long now = millis();
  if (now - lastMsg > 5000) {
    lastMsg = now;
    filter.add(analogRead(POT));                           //memberikan filter moving average ke data sensor
    unsigned long potValue = filter.get();                 //mengambil data sensor yang sudah difilter
    potValue = map(potValue,0,1024,0,255);                 //mapping nilai potValue dari rentang 0-1024 menjadi rentang 0-255 
    String strPot = String(potValue);                      //merubah type data menjadi string
    Serial.println("Potensio Value: ");
    Serial.println(strPot.c_str());
    client.publish("nodered-elka", strPot.c_str());        //mengirim data sensor ke topik "nodered-elka"
  }
}
                      </code>
                    </pre>                    
                  </div>
                </div>
                <p></p>
                <p> Kode di atas merupakan program Arduino yang menghubungkan perangkat ESP8266 ke broker MQTT menggunakan library ESP8266WiFi dan PubSubClient. Program tersebut memungkinkan ESP8266 untuk mengambil data dari sebuah potensiometer yang terhubung ke pin A0, memfilter nilai potensiometer menggunakan moving average dengan 5 data, dan kemudian mengirimkan data hasil pengukuran ke broker MQTT melalui topik "nodered-elka".</p>

                <p> Pada awal program, terdapat beberapa konstanta seperti SSID dan password WiFi yang digunakan untuk melakukan koneksi ke jaringan. Selain itu, konstanta mqtt_server menentukan alamat broker MQTT yang digunakan. Kemudian, terdapat pengaturan pinout dan inisialisasi koneksi WiFi dan koneksi MQTT di dalam fungsi setup().</p>

                <p> Fungsi callback() berisi kode untuk menampilkan pesan yang diterima dari broker dan melakukan aksi berdasarkan isi pesan. Jika pesan yang diterima adalah "1", maka LED pada perangkat akan menyala, sedangkan jika pesan yang diterima adalah "0", maka LED akan mati.</p>

                <p> Fungsi reconnect() akan berulang kali mencoba untuk melakukan koneksi ke broker MQTT hingga berhasil terhubung. Setelah berhasil terkoneksi, fungsi ini akan mengirimkan pesan ke broker dan melakukan subscribe ke topik tertentu.</p>

                <p> Fungsi loop() akan dieksekusi secara terus-menerus selama perangkat berjalan. Fungsi ini memeriksa koneksi ke broker MQTT dan memanggil fungsi reconnect() jika belum terkoneksi. Kemudian, fungsi loop() akan memperbarui nilai dari potensiometer setiap 5 detik dan mengirimkan data hasil pengukuran ke broker MQTT melalui topik "nodered-elka". Nilai potensiometer akan difilter menggunakan moving average dengan 5 data sebelum dikirimkan ke broker.</p>

              </ul>
            </div>
          </div>          
        </div>
        <p></p>

        <div class="row">
          <div data-aos="fade-left">
            <h3><i class="bi bi-chevron-right"></i> Rangkaian Receiver (Penerima data sensor)</h3>
            <p>Pada rangkaian Receiver, pada gambar ditunjukkan oleh ESP-8266 sebelah kanan yang terhubung dengan Relay.</p>
            <div>
              <ul>
                <li><p> Susunan rangkaian receiver adalah sebagai berikut.</p></li>

                <div class="code-padding-2">
                  <div class="code-body">
                    <div class="code-lang">Rangkaian</div>
                    <button class="code-copy" onclick="copyToClipboard(this)"> <i class="bx bx-copy code-copy"></i>Salin</button>
                    <pre>
                      <code class="language-python">
3V3-ESP8266 terhubung dengan VCC-Relay
GND-ESP8266 terhubung dengan GND-Relay
D1-ESP8266 terhubung dengan IN-Relay

C-Relay terhubung ke Power Supply   #C = Common, NO = Normally Open, NC = Normally Closed
Power Supply terhubung ke Lampu
NO-Relay terhubung ke Lampu
                      </code>
                    </pre>                    
                  </div>
                </div>
                <p></p>  

                <li><p> Kode Arduino untuk menerima data sensor.</p></li> 

                <div class="code-padding-2">
                  <div class="code-body">
                    <div class="code-lang">Receiver</div>
                    <button class="code-copy" onclick="copyToClipboard(this)"> <i class="bx bx-copy code-copy"></i>Salin</button>
                    <pre>
                      <code class="language-arduino">
#include &lt;ESP8266WiFi.h&gt;
#include &lt;PubSubClient.h&gt;

const char* ssid = "labelka";
const char* password = "labelka123";
const char* mqtt_server = "test.mosquitto.org";         //set broker mqtt pada mosquitto

WiFiClient espClient;
PubSubClient client(espClient);

#define MSG_BUFFER_SIZE  (50)
#define RELAY D1                                        //mendefinisikan pin D1 sebagai pin Relay

unsigned long lastMsg = 0;
char msg[MSG_BUFFER_SIZE];
int value = 0;

void setup_wifi() {                                     //melakukan koneksi wifi

  delay(10);
  Serial.println();
  Serial.print("Connecting to ");
  Serial.println(ssid);

  WiFi.mode(WIFI_STA);
  WiFi.begin(ssid, password);

  while (WiFi.status() != WL_CONNECTED) {
    delay(500);
    Serial.print(".");
  }

  randomSeed(micros());

  Serial.println("");
  Serial.println("WiFi connected");
  Serial.println("IP address: ");
  Serial.println(WiFi.localIP());
}

void callback(char* topic, byte* payload, unsigned int length) {
  Serial.print("Message arrived [");                                //menampilkan pesan yang diterima
  Serial.print(topic);
  Serial.print("] ");
  for (int i = 0; i < length; i++) {
    Serial.print((char)payload[i]);
  }
  Serial.println();

  if ((char)payload[0] == '1') {                                    
    digitalWrite(RELAY, HIGH);                                      //apabila pesan yang diterima adalah 1, maka pin Relay ON
  } else {
    digitalWrite(RELAY, LOW);                                       //apabila pesan yang diterima selain 1, maka pin Relay OFF
  }
}

void reconnect() {
  while (!client.connected()) {
    Serial.print("Attempting MQTT connection...");
    String clientId = "ESP8266Client-";
    clientId += String(random(0xffff), HEX);

    if (client.connect(clientId.c_str())) {
      Serial.println("connected");
      client.publish("nodered-elka", "Dah tersambung nih...");     //mengirim pesan terhubung ke topik "nodered-elka"
      client.subscribe("receiver-elka");                           //subscribe ke topik "receiver-elka"
    } else {
      Serial.print("failed, rc=");
      Serial.print(client.state());
      Serial.println(" try again in 5 seconds");

      delay(5000);
    }
  }
}

void setup() {
  pinMode(BUILTIN_LED, OUTPUT);
  pinMode(RELAY, OUTPUT);
  Serial.begin(115200);
  setup_wifi();
  client.setServer(mqtt_server, 1883);
  client.setCallback(callback);
}

void loop() {

  if (!client.connected()) {
    reconnect();
  }
  client.loop();

  unsigned long now = millis();
  if (now - lastMsg > 5000) {
    lastMsg = now;
  }
}
                      </code>
                    </pre>                    
                  </div>
                </div>
                <p></p>
                <p> Kode Arduino tersebut merupakan program untuk mengontrol sebuah Relay melalui koneksi WiFi dan protokol MQTT. Program tersebut menggunakan library ESP8266WiFi dan PubSubClient untuk koneksi WiFi dan MQTT.</p>

                <p> Koneksi WiFi dilakukan pada fungsi setup_wifi() dan dilakukan pengulangan sampai koneksi berhasil terhubung. Setelah koneksi berhasil, IP address akan ditampilkan pada Serial Monitor.</p>

                <p> Program tersebut menggunakan pin D1 sebagai pin untuk mengontrol Relay. Saat pesan yang diterima melalui MQTT adalah '1', maka pin Relay akan diaktifkan (HIGH) dan apabila pesan yang diterima adalah selain '1', maka pin Relay akan dinonaktifkan (LOW).</p>

                <p> Pada fungsi reconnect(), program akan terus mencoba melakukan koneksi ke broker MQTT sampai koneksi berhasil terhubung. Setelah terhubung, program akan mengirim pesan "Dah tersambung nih..." ke topik "nodered-elka" dan subscribe ke topik "receiver-elka".</p>

                <p> Program akan terus berjalan pada loop() dan melakukan client.loop() untuk mendapatkan pesan yang diterima melalui MQTT. Jika koneksi terputus, program akan melakukan koneksi ulang pada fungsi reconnect().</p>

              </ul>
            </div>
          </div>          
        </div>
        <p></p>

        <div class="row">
          <div data-aos="fade-left">
            <h3><i class="bi bi-chevron-right"></i> Setting user dan database InfluxDB</h3>
            <p>Pada sistem rangkaian ini, data yang dikirim sensor akan disimpan oleh InfluxDB. Oleh karena itu perlu dibuat database pada InfluxDB.</p>
            <div>
              <ul>
                <li><p> Pada latihan ini, dibuat user "labelka" dengan password "labelka123".</p></li>

                <div class="code-padding-2">
                  <div class="code-body">
                    <div class="code-lang">Create user</div>
                    <button class="code-copy" onclick="copyToClipboard(this)"> <i class="bx bx-copy code-copy"></i>Salin</button>
                    <pre>
                      <code class="language-sql">
CREATE USER labelka WITH PASSWORD 'labelka' WITH ALL PRIVILEGES
                      </code>
                    </pre>                    
                  </div>
                </div>
                <p></p>

                <li><p> Kemudian dibuat database dengan nama "PID".</p></li>

                <div class="code-padding-2">
                  <div class="code-body">
                    <div class="code-lang">Create database</div>
                    <button class="code-copy" onclick="copyToClipboard(this)"> <i class="bx bx-copy code-copy"></i>Salin</button>
                    <pre>
                      <code class="language-sql">
CREATE DATABASE PID
                      </code>
                    </pre>                    
                  </div>
                </div>
                <p></p>

                <li><p> User dan Database yang telah dibuat akan digunakan untuk konfigurasi InfluxDB di Node-RED.</p></li>

              </ul>
            </div>
          </div>          
        </div>
        <p></p>

        <div class="row">
          <div data-aos="fade-left">
            <h3><i class="bi bi-chevron-right"></i> Setting Node-RED</h3>
            <p> Setelah ESP-8266, Sensor, dan InfluxDB tersetting dengan benar, langkah selanjutnya adalah membuat server dan dashboard dengan menggunakan Node-RED.</p>
            <div>
              <ul>
                <li><p> Pada latihan ini, library (palette) tambahan yang diinstall adalah sebagai berikut.</p></li>

                <div class="code-padding-2">
                  <div class="code-body">
                    <div class="code-lang">List palette</div>
                    <button class="code-copy" onclick="copyToClipboard(this)"> <i class="bx bx-copy code-copy"></i>Salin</button>
                    <pre>
                      <code class="language-sql">
1. node-red-contrib-influxdb          #untuk akses influxdb
2. dashboard-evi                      #untuk ui dashboard
                      </code>
                    </pre>                    
                  </div>
                </div>
                <p></p>

                <li><p> Berikut adalah gambar flow/node lengkap dari latihan ini. Sebagai catatan, node "Debug" hanya berfungsi untuk menampilkan output dari node yang dihubungkannya sebagai acuan atau informasi apabila ada error atau hal lain (Debuging).</p></li>
                <img src="assets/img/raspi/10.jpg" style="width: 60%; height: auto; padding-bottom: 1em; padding-top: 1em;" class="img-fluid" alt="">

                <li><p> Berikut adalah konfigurasi dari node "mqtt-in" dengan label "nodered-elka". Berfungsi untuk menerima pesan dari ESP-8266 sender dan meneruskannya ke function "ON-OFF".</p></li>
                <img src="assets/img/raspi/11.jpg" style="width: 60%; height: auto; padding-bottom: 1em; padding-top: 1em;" class="img-fluid" alt="">
                <img src="assets/img/raspi/12.jpg" style="width: 60%; height: auto; padding-bottom: 1em; padding-top: 1em;" class="img-fluid" alt="">

                <li><p> Kode pada node "function" dengan label "ON-OFF". Berfungsi untuk merubah variabel data, apabila nilai data < set point maka data akan bernilai '1' dan apabila sebaliknya maka data akan bernilai '0'.</p></li>

                <div class="code-padding-2">
                  <div class="code-body">
                    <div class="code-lang">Function ON-OFF</div>
                    <button class="code-copy" onclick="copyToClipboard(this)"> <i class="bx bx-copy code-copy"></i>Salin</button>
                    <pre>
                      <code class="language-javascript">
let data = msg.payload;
var res = flow.get("setPoint");
if (data < res) {
    data = 1;
} else {
    data = 0;
}
msg.payload = data;
return msg;
                      </code>
                    </pre>                    
                  </div>
                </div>
                <p></p>

                <li><p> Berikut adalah konfigurasi dari node "mqtt-out" dengan label "receiver-elka". Berfungsi untuk meneruskan pesan dari node "function" ke ESP-8266 Receiver untuk ON atau OFF Relay.</p></li>
                <img src="assets/img/raspi/13.jpg" style="width: 60%; height: auto; padding-bottom: 1em; padding-top: 1em;" class="img-fluid" alt="">

                <li><p> Kode pada node "function" dengan label "ParsingData". Berfungsi untuk memparsing data, sehingga dapat terkirim sebagai value "resistansi" ke database InfluxDB.</p></li>

                <div class="code-padding-2">
                  <div class="code-body">
                    <div class="code-lang">Function ParsingData</div>
                    <button class="code-copy" onclick="copyToClipboard(this)"> <i class="bx bx-copy code-copy"></i>Salin</button>
                    <pre>
                      <code class="language-javascript">
var data = {
    "resistansi": msg.payload
};
msg.payload = data;
return msg;
                      </code>
                    </pre>                    
                  </div>
                </div>
                <p></p>

                <li><p> Berikut adalah konfigurasi dari node "influxdb-out" dengan label "InfluxDB". Berfungsi untuk menyimpan data resistansi dengan nama tabel "potensiometer" nama database "PID" dan akun user "labelka" InfluxDB yang telah dibuat tadi serta IP Raspberry 192.168.8.18.</p></li>
                <img src="assets/img/raspi/14.jpg" style="width: 60%; height: auto; padding-bottom: 1em; padding-top: 1em;" class="img-fluid" alt="">
                <img src="assets/img/raspi/15.jpg" style="width: 60%; height: auto; padding-bottom: 1em; padding-top: 1em;" class="img-fluid" alt="">

                <li><p> Berikut adalah konfigurasi dari node "gauge" dengan label "Resistansi". Berfungsi untuk menampilkan data resistansi dalam bentuk gauge ke ui dashboard.</p></li>
                <img src="assets/img/raspi/16.png" style="width: 60%; height: auto; padding-bottom: 1em; padding-top: 1em;" class="img-fluid" alt="">
                <img src="assets/img/raspi/17.jpg" style="width: 60%; height: auto; padding-bottom: 1em; padding-top: 1em;" class="img-fluid" alt="">

                <li><p> Berikut adalah konfigurasi dari node "slider" dengan label "Slider". Berfungsi untuk mengatur nilai set point.</p></li>
                <img src="assets/img/raspi/18.png" style="width: 60%; height: auto; padding-bottom: 1em; padding-top: 1em;" class="img-fluid" alt="">

                <li><p> Berikut adalah konfigurasi dari node "text" dengan label "Set Point". Berfungsi untuk menampilkan nilai set point pada ui dashboard.</p></li>
                <img src="assets/img/raspi/19.png" style="width: 60%; height: auto; padding-bottom: 1em; padding-top: 1em;" class="img-fluid" alt="">

                <li><p> Kode pada node "function" dengan label "Set Point". Berfungsi untuk mengambil nilai set point dari slider dan menahan nilainya pada perintah "flow.set()" sehingga dapat diambil oleh node "function" dengan label "ON-OFF" dengan perintah "flow.get()".</p></li>

                <div class="code-padding-2">
                  <div class="code-body">
                    <div class="code-lang">Function ParsingData</div>
                    <button class="code-copy" onclick="copyToClipboard(this)"> <i class="bx bx-copy code-copy"></i>Salin</button>
                    <pre>
                      <code class="language-javascript">
var setPoint = msg.payload;
flow.set("setPoint", setPoint);
return msg;
                      </code>
                    </pre>                    
                  </div>
                </div>
                <p></p>

                <li><p> Setelah semua konfigurasi selesai, dan dideploy, maka kamu dapat akses dashboardnya di browser dengan link, http:192.168.8.18:1880/ui. Ganti IP-nya dengan IP Raspberry kamu ya. Berikut contoh tampilan dashboardnya.</p></li>
                <img src="assets/img/raspi/20.jpg" style="width: 60%; height: auto; padding-bottom: 1em; padding-top: 1em;" class="img-fluid" alt="">

              </ul>
            </div>
          </div>          
        </div>

      </div>
    </section><!-- End About Section -->

    <!-- Star UTS Section --> 
    <section id="uts" class="about">
      <div class="container">

        <div class="section-title">
          <h2>Penjelasan UTS</h2>
          <p>Inti dari UTS adalah membuat sebuah Sistem kontrol PID, untuk mengatur pemanas (dalam kasus ini adalah pemanas air atau boleh kasus lain selain pemanas asalkan bisa dikendalikan dengan PID. Tapi, saran pemanas air aja yang lebih gampang wkwk) sehingga ketika sensor membaca suhu tertentu maka sistem akan mengatur pemanas (ketika suhu melebihi set point, maka sistem akan menurunkan tingkat panas dari pemanas dan ketika suhu kurang dari set point, maka sistem akan meningkatkan tingkat panas dari pemanas) sehingga sistem dapat mempertahankan keadaan suhunya stabil (ini yang diharapkan). Dan seminimal-minimalnya adalah Kontrol ON-OFF, yaitu pada rentang suhu tertentu maka pemanas akan mati dan pada rentang suhu lainnya pemanas akan menyala. Contoh sederhana dari Kontrol PID adalah sistem AC (Air Conditioner), yaitu ketika kita mengatur nilai suhu dengan remote AC menjadi 21&deg;C maka sistem AC akan berusaha membuat suhu ruangan menjadi 21&deg;C sehingga suhu ruangan menjadi stabil di kisaran 21&deg;C. Nilai 21&deg;C merupakan Set Point dari Kontrol PID tersebut, artinya kita dapat mengatur Set Point sesuai dengan apa yang kita inginkan, dan sistem PID akan berusaha untuk menuju nilai Set Point tersebut. Tentunya dengan beberapa poin berikut.</p>
          <ul>
            <p></p>
            <li><p> Set point kontrol PID terjadi di cloud.</p></li>
            <li><p> Ada dua mikrokontroller, satu mengirim data sensor, yang satunya lagi menerima data sensor.</p></li>
            <li><p> Dilakukan eksperimen untuk kalibrasi (karakteristik) sensor.</p></li> 
            <li><p> Digunakan filter Moving Average untuk data dari sensor. Ingat juga data sensor disimpan di database InfluxDB.</p></li>
            <li><p> Node-RED dan InfluxDB diinstall di Raspberry Pi.</p></li>
          </ul>
        </div>

      </div>
    </section><!-- End About Section -->

  </main><!-- End #main -->

  <!-- ======= Footer ======= -->
  <footer id="footer">
    <div class="container">
      <div class="copyright">
        &copy; Modified by <strong><a href="https://yogiazy.github.io">yogiazy</a></strong>
      </div>
    </div>
  </footer><!-- End  Footer -->

  <a href="#" class="back-to-top d-flex align-items-center justify-content-center"><i class="bi bi-arrow-up-short"></i></a>

  <!-- Vendor JS Files -->
  <link rel="stylesheet" href="assets/js/prism.css" />
  <script src="assets/js/prism.js"></script>
  <script src="assets/js/copycode.js"></script>
  <script src="assets/vendor/purecounter/purecounter_vanilla.js"></script>
  <script src="assets/vendor/aos/aos.js"></script>
  <script src="assets/vendor/bootstrap/js/bootstrap.bundle.min.js"></script>
  <script src="assets/vendor/glightbox/js/glightbox.min.js"></script>
  <script src="assets/vendor/isotope-layout/isotope.pkgd.min.js"></script>
  <script src="assets/vendor/swiper/swiper-bundle.min.js"></script>
  <script src="assets/vendor/typed.js/typed.min.js"></script>
  <script src="assets/vendor/waypoints/noframework.waypoints.js"></script>
  <script src="assets/vendor/php-email-form/validate.js"></script>

  <!-- Template Main JS File -->
  <script src="assets/js/main.js"></script>

  <script type="text/javascript">
    const musicPlayer = document.querySelector('.music-player');
    const playButton = document.querySelector('.play-button');
    const audio = document.querySelector('#my-audio');

    let isPlaying = false;

    playButton.addEventListener('click', () => {
      if (isPlaying) {
        pauseAudio();
      } else {
        playAudio();
      }
    });

    function playAudio() {
      isPlaying = true;
      musicPlayer.classList.add('playing');
      playButton.innerHTML = '<i class="bx bx-headphone"></i>';
      audio.play();
    }

    function pauseAudio() {
      isPlaying = false;
      musicPlayer.classList.remove('playing');
      playButton.innerHTML = '<i class="bx bx-caret-right"></i>';
      audio.pause();
    }

    audio.addEventListener('ended', () => {
      pauseAudio();
    });
  </script>
        
</body>

</html>
